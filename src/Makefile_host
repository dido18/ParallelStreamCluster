## Makefile for streamcluster project on HOST machine

#FF_ROOT     pointing to the FastFlow root directory (i.e. the one containing the ff directory
FF_ROOT         = $(HOME)/fastflow

CXX 		= icpc -std=c++11  -DNO_DEFAULT_MAPPING

INCLUDES	= -I $(FF_ROOT)
CXXFLAGS  	= -Wall

LDFLAGS 	= -pthread

OPTFLAGS	= -O3  -finline-functions -DNDEBUG  #-DPRINTINFO

TARGETS		= ff_stream_cluster

.PHONY:  all clean cleanall
.SUFFIXES: .cpp

% :%.cpp
	$(CXX) $(CXXFLAGS) $(INCLUDES) $(OPTFLAGS) -o $@ $< $(LDFLAGS)

all : $(TARGETS) install

clean	:
	rm -f $(TARGETS)
cleanall : clean
	\rm -f *.o *~

install:
	mkdir -p ../bin
	mv -f $(TARGETS) ../bin/$(TARGETS)
